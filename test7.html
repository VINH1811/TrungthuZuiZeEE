<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Thi·ªáp Trung Thu - √Ånh TrƒÉng & L·ªùi Ch√∫c</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: radial-gradient(ellipse at bottom, #0b0c2a 0%, #000 100%);
    min-height: 100vh;
    color: #fff;
    font-family: 'Segoe UI', sans-serif;
    perspective: 500px;
    transform-style: preserve-3d;
  }

  /* üåï M·∫∑t trƒÉng */
  .moon {
    position: absolute;
    top: 25%;
    left: 50%;
    width: 40vw;
    height: 40vw;
    max-width: 270px;
    max-height: 270px;
    background: radial-gradient(circle, #fffde7 0%, #ffe066 60%, #fdd835 100%);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    box-shadow: 0 0 40px 15px rgba(255, 250, 180, 0.7), 0 0 100px 40px rgba(255, 250, 180, 0.3);
    z-index: 1;
  }

  /* üë∏ H·∫±ng Nga */
  .hangnga {
    position: absolute;
    bottom: 0;
    left: 25%;
    width: 60vw;
    max-width: 550px;
    transform: translate(-50%, 10px) translate3d(0, 0, 0);
    z-index: 5;
    filter: drop-shadow(0 0 15px rgba(255, 200, 150, 0.6));
    pointer-events: none;
    transition: transform 0.1s ease-out;
  }
/* üí´ Hi·ªáu ·ª©ng H·∫±ng Nga bay l∆∞·ª£n r√µ h∆°n */
@keyframes hangNgaFloat {
  0% {
    transform: translate(-50%, 10px) scale(1) rotate(0deg);
  }
  20% {
    transform: translate(-56%, -20px) scale(1.05) rotate(-3deg);
  }
  40% {
    transform: translate(-45%, -35px) scale(1.07) rotate(2deg);
  }
  60% {
    transform: translate(-54%, -10px) scale(1.04) rotate(-2deg);
  }
  80% {
    transform: translate(-47%, -25px) scale(1.06) rotate(3deg);
  }
  100% {
    transform: translate(-50%, 10px) scale(1) rotate(0deg);
  }
}

.hangnga {
  animation: hangNgaFloat 5s ease-in-out infinite;
}

  /* ‚òÅÔ∏è M√¢y vi·ªÅn */
  .decor {
    position: absolute;
    z-index: 4;
    filter: drop-shadow(0 0 15px rgba(255, 255, 200, 0.4));
    transition: transform 0.2s ease-out;
    pointer-events: none;
  }
  .decor.top-left {
    top: 0;
    left: 0;
    width: 40vw;
    max-width: 400px;
    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=') no-repeat center/cover;
  }
  .decor.bottom-right {
    bottom: 0;
    right: 0;
    width: 40vw;
    max-width: 400px;
    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=') no-repeat center/cover;
  }

  /* üèÆ L·ªìng ƒë√®n */
  .lantern {
    position: absolute;
    bottom: -80px;
    width: 8vw;
    height: 10vw;
    max-width: 72px;
    max-height: 96px;
    border-radius: 28px;
    background: linear-gradient(180deg, #ffe7a6, #ffc251);
    box-shadow: 0 0 10px 4px rgba(255, 190, 60, 0.55);
    transform-origin: 50% 0;
    animation: rise 10s linear infinite, swing 4.2s ease-in-out infinite;
  }
  .lantern::before {
    content: '';
    position: absolute;
    top: -24px;
    left: 50%;
    width: 4px;
    height: 24px;
    background: linear-gradient(var(--accent), #e07a00);
    transform: translateX(-50%);
  }
  .lantern::after {
    content: '';
    position: absolute;
    bottom: 0px;
    left: 50%;
    width: 14px;
    height: 20px;
    border-radius: 50% / 70% 70% 30% 30%;
    background: radial-gradient(circle at 50% 0%, #fff 20%, #ffd166 40%, rgba(255, 160, 0, 0.35) 70%);
    animation: flicker 0.9s infinite alternate;
    transform: translateX(-50%);
  }
  @keyframes flicker {
    from { transform: scale(1) translateX(-50%); }
    to { transform: scale(1.08) translateX(-50%); }
  }
  @keyframes rise {
    from { transform: translateY(0); }
    to { transform: translateY(-120vh); }
  }
  @keyframes swing {
    0% { rotate: -4deg; }
    50% { rotate: 4deg; }
    100% { rotate: -4deg; }
  }

  /* üéë Icon treo d∆∞·ªõi m·∫∑t trƒÉng */
  .center-icons {
    position: absolute;
    top: 43%;
    left: 50%;
    transform: translate(-50%, -20%);
    display: flex;
    gap: min(6vw, 60px);
    align-items: flex-start;
    z-index: 5;
  }
  .hang {
    position: relative;
    display: inline-block;
    animation: sway 4s ease-in-out infinite;
    transform-origin: 50% -60px;
    filter: drop-shadow(0 6px 10px rgba(0, 0, 0, 0.4));
  }
  .hang::before {
    content: "";
    position: absolute;
    top: -60px;
    left: 50%;
    width: 2px;
    height: 60px;
    background: linear-gradient(#ffe186, #ffd166);
    transform: translateX(-50%);
    box-shadow: 0 0 8px #ffd166;
  }
  .hang img {
    width: min(16vw, 140px);
    height: auto;
    border-radius: 14px;
    user-select: none;
    pointer-events: auto;
  }
  @keyframes sway {
    0% { transform: rotate(-3deg); }
    50% { transform: rotate(3deg); }
    100% { transform: rotate(-3deg); }
  }
  .hang:nth-child(2) { animation-duration: 5s; }

  /* üåü Popup ph√°t s√°ng */
.modal {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  background: rgba(0, 0, 0, 0.45);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.4s ease;
  z-index: 20;
}
.modal.show {
  opacity: 1;
  pointer-events: auto;
}

.card {
  width: min(90vw, 460px);
  border-radius: 18px;
  background: rgba(25, 25, 50, 0.85);
  border: 2px solid rgba(255, 220, 130, 0.8);
  box-shadow: 0 0 25px 8px rgba(255, 220, 130, 0.5),
              inset 0 0 40px rgba(255, 240, 190, 0.15);
  text-align: center;
  display: flex;
  flex-direction: column;   /* ‚úÖ cho ph√©p n·ªôi dung t·ª± gi√£n theo chi·ªÅu d·ªçc */
  overflow: visible;        /* ‚úÖ cho ph√©p hi·ªÉn th·ªã h·∫øt l·ªùi ch√∫c */
  transform: scale(0.9);
  animation: fadeInCard 0.4s ease forwards;
}

.card-image {
  width: 100%;
  max-height: 320px;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  background: radial-gradient(circle at center,
              rgba(255,255,255,0.05), rgba(0,0,0,0.5));
}

.card-image img {
  width: 100%;
  height: auto;
  object-fit: contain; /* hi·ªÉn th·ªã ƒë·∫ßy ƒë·ªß h√¨nh */
  border-bottom: 1px solid rgba(255, 255, 200, 0.3);
  border-radius: 12px 12px 0 0;
  filter: brightness(1.05);
}

.card-content {
  padding: 22px 28px 28px;
  background: rgba(10,10,25,0.5);
  border-top: 1px solid rgba(255,255,200,0.2);
  flex-grow: 1; /* ‚úÖ gi√∫p ph·∫ßn text t·ª± d√£n theo n·ªôi dung */
}

.card-content h2 {
  color: #ffe9a6;
  text-shadow: 0 0 12px rgba(255, 215, 130, 0.8);
  margin-bottom: 12px;
}

.card-content p {
  color: #fffbea;
  font-size: clamp(16px, 3.5vw, 20px);
  line-height: 1.6;
  white-space: normal;  /* ‚úÖ ƒë·∫£m b·∫£o xu·ªëng d√≤ng ƒë·∫ßy ƒë·ªß */
  overflow-wrap: break-word;
}

.close-btn {
  position: absolute;
  top: 12px;
  right: 16px;
  background: rgba(255, 255, 255, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.4);
  color: white;
  border-radius: 50%;
  width: 36px;
  height: 36px;
  display: grid;
  place-items: center;
  cursor: pointer;
  transition: 0.2s;
}
.close-btn:hover {
  background: rgba(255, 255, 255, 0.4);
  transform: scale(1.1);
}

  /* ‚ú® Sao */
  .star {
    position: absolute;
    width: 1.5px;
    height: 1.5px;
    background: white;
    border-radius: 50%;
    box-shadow: 0 0 3px white;
    animation: twinkle 2s infinite ease-in-out;
  }

  @keyframes twinkle {
    0%, 100% { opacity: 0.4; }
    50% { opacity: 1; }
  }

  /* üé∂ N√∫t nh·∫°c */
  #music-btn {
    position: fixed;
    top: 10px;
    right: 10px;
    background: rgba(255, 255, 255, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.4);
    border-radius: 8px;
    color: white;
    padding: 8px 12px;
    cursor: pointer;
    z-index: 9999;
    backdrop-filter: blur(4px);
    font-size: 1rem;
  }
  #music-btn:hover {
    background: rgba(255, 255, 255, 0.4);
  }

  /* Media Queries cho ƒëi·ªán tho·∫°i */
  @media (max-width: 600px) {
    .moon {
      width: 50vw;
      height: 50vw;
    }
    .hangnga {
      width: 80vw;
      max-width: 400px;
    }
    .decor.top-left, .decor.bottom-right {
      width: 30vw;
      max-width: 300px;
    }
    .lantern {
      width: 10vw;
      height: 13vw;
      max-width: 60px;
      max-height: 80px;
    }
    .hang img {
      width: min(24vw, 128px);
    }
    #music-btn {
      top: 5px;
      right: 5px;
      padding: 6px 10px;
    }
  }
</style>
</head>
<body>
  <div class="moon"></div>
  <img class="decor top-left" src="may2.11.png" alt="m√¢y tr√°i" />
  <img class="decor bottom-right" src="may2.22.png" alt="m√¢y ph·∫£i" />
  <img class="hangnga" src="hna33.png" alt="H·∫±ng Nga" />

  <div class="center-icons">
    <a class="hang" id="icon1"><img src="kylan1.png" alt="Icon 1"></a>
    <a class="hang" id="icon2"><img src="banhtt1.png" alt="Icon 2"></a>
  </div>

<div class="modal" id="modal">
  <div class="card">
    <button class="close-btn" id="closeModal">‚úñ</button>
    
    <div class="card-image">
      <img id="cardImg" src="" alt="Thi·ªáp Trung Thu">
    </div>

    <div class="card-content">
      <h2 id="modalTitle">L·ªùi ch√∫c ƒë·∫∑c bi·ªát</h2>
      <p id="modalText">Ch√∫c b·∫°n Trung Thu r·ª±c r·ª°, an vui v√† ƒëo√†n vi√™n b√™n gia ƒë√¨nh! üéë</p>
    </div>
  </div>
</div>

  <button id="music-btn">üéµ Ph√°t nh·∫°c</button>

  <audio id="bgm" preload="auto" loop>
    <source src="https://www.bensound.com/bensound-music/bensound-sunny.mp3" type="audio/mpeg">
    <source src="https://www.bensound.com/bensound-music/bensound-sunny.ogg" type="audio/ogg">
    Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ audio.
  </audio>

 <script>
/* ============== C·∫§U H√åNH NHANH ============== */
const STAR_COUNT = 140;           // s·ªë sao
const LANTERN_BASE = 16;          // s·ªë l·ªìng ƒë√®n t·∫°o s·∫µn
const WISHES = [
  'Ch√∫c Chang lu√¥n vui v·∫ª üéë',
  'TrƒÉng r·∫±m s√°ng t·ªè, v·∫°n s·ª± hanh th√¥ng üåï',
  'Gia ƒë√¨nh ·∫•m √°p, y√™u th∆∞∆°ng ƒë·ªß ƒë·∫ßy üíõ',
  'Ch√∫c Chang c√¥ng vi·ªác thu·∫≠n l·ª£i, t√†i l·ªôc d·ªìi d√†o üíº‚ú®',
  'Ch√∫c Chang b√¨nh an ‚Äì H·∫°nh ph√∫c ‚Äì May m·∫Øn ƒë·∫øn v·ªõi b·∫°n üåü',
  'Ch√∫c Chang s·ªõm ƒë·∫°t ƒë∆∞·ª£c t·∫•t c·∫£ m·ª•c ti√™u',
  'Ch√∫c Chang lu√¥n xinh ƒë·∫πp v√† r·∫°ng r·ª° nh∆∞ √°nh trƒÉng üåô',
];

/* ============== SAO N·ªÄN ============== */
(function createStars(){
  const frag = document.createDocumentFragment();
  for (let i=0;i<STAR_COUNT;i++){
    const s = document.createElement('div');
    s.className = 'star';
    s.style.left = Math.random()*100 + '%';
    s.style.top  = Math.random()*100 + '%';
    s.style.opacity = (0.3 + Math.random()*0.7).toFixed(2);
    s.style.animationDuration = (1.8 + Math.random()*2.4) + 's';
    s.style.animationDelay    = (Math.random()*2) + 's';
    s.style.zIndex = 0; // lu√¥n ·ªü n·ªÅn sau c√πng
    frag.appendChild(s);
  }
  document.body.appendChild(frag);
})();

/* ============== L·ªíNG ƒê√àN BAY + CLICK RA L·ªúI CH√öC ============== */
function spawnLantern(leftPct){
  const l = document.createElement('div');
  l.className = 'lantern';
  l.style.left = (leftPct ?? Math.random()*100) + '%';
  const riseDur  = 11000 + Math.random()*7000;
  const swingDur = 3600  + Math.random()*1800;
  l.style.animationDuration = `${riseDur}ms, ${swingDur}ms`;
  l.style.zIndex = 1;
  l.addEventListener('animationiteration', (ev)=>{
    if (ev.animationName === 'rise') {
      l.style.left = Math.random()*100 + '%';
    }
  });
  // click v√†o l·ªìng ƒë√®n -> m·ªü modal v·ªõi l·ªùi ch√∫c ng·∫´u nhi√™n
  l.addEventListener('click', (e)=>{
    e.stopPropagation();
    showModal('L·ªùi ch√∫c t·ª´ L·ªìng ƒë√®n', WISHES[Math.floor(Math.random()*WISHES.length)]);
  });
  document.body.appendChild(l);
}
for(let i=0;i<LANTERN_BASE;i++) spawnLantern();
window.addEventListener('click', (e)=>{
  const isIcon = e.target.closest('.center-icons, .modal, #music-btn');
  if (!isIcon) {
    const left = (e.clientX / window.innerWidth) * 100;
    spawnLantern(left);
  }
});

/* ============== POPUP L·ªúI CH√öC & ICON ƒê·∫∂C BI·ªÜT ============== */
// L·∫•y ph·∫ßn t·ª≠ modal
const modal   = document.getElementById('modal');
const cardImg = document.getElementById('cardImg');
const titleEl = document.getElementById('modalTitle');
const textEl  = document.getElementById('modalText');
const closeBtn = document.getElementById('closeModal');

// H√†m hi·ªÉn th·ªã thi·ªáp
function showCard(imgSrc, title, ...messages) {
  document.getElementById('cardImg').src = imgSrc;
  document.getElementById('modalTitle').textContent = title;
  
  // n·ªëi c√°c c√¢u th√†nh nhi·ªÅu d√≤ng
  const text = messages.map(line => `<p>${line}</p>`).join('');
  document.getElementById('modalText').innerHTML = text;

  modal.classList.add('show');
}
// üßß X·ª≠ l√Ω ƒë√≥ng thi·ªáp
closeBtn.addEventListener('click', () => {
  modal.classList.remove('show'); // ·∫©n thi·ªáp khi b·∫•m n√∫t ‚úñ
});

// ƒê√≥ng thi·ªáp khi click ra ngo√†i v√πng thi·ªáp
modal.addEventListener('click', (e) => {
  if (e.target === modal) {
    modal.classList.remove('show');
  }
});


// üì∏ Icon 1 ‚Äì L√¢n V√†ng
document.getElementById('icon1').addEventListener('click', e => {
  e.preventDefault();
  showCard(
    'lan.png', // ·∫£nh thi·ªáp L√¢n
    'L·ªùi ch√∫c t·ª´ L√¢n V√†ng ü¶Å','Bi·∫øt ngay b·∫°n s·∫Ω th√≠ch c√°i n√†y m√† !',
    'Nh√¨n b·∫°n nh∆∞ n√†y th·∫ßy k·ª≥ l√¢n ph√°n kh√¥ng ngh√®o ƒë∆∞·ª£c ƒë√¢u üòÇüíõ',
    'Ch√∫c b·∫°n s·ª± nghi·ªáp, h·ªçc t·∫≠p hanh th√¥ng ti·∫øn t·ªõi th√†nh c√¥ng',
    'Ch√∫c n·∫øu sau b·∫°n kh√¥ng gi√†u th√¨ ch·ª•p c√°i n√†y quay l·∫°i toai b·ªìi th∆∞·ªùng cho hihi',
    'Ch√∫c b·∫°n Trung Thu vui v·∫ª, h·∫°nh ph√∫c',
  );
});

// üì∏ Icon 2 ‚Äì B√°nh Trung Thu
document.getElementById('icon2').addEventListener('click', e => {
  e.preventDefault();
  showCard(
    'tho.png', // ·∫£nh thi·ªáp B√°nh
    'T√™n th·ªè th√¨ ph·∫£i ch·ªçn c√°i c√≥ con th·ªè ch·ª© nh·ªâ !! üêá',
    'L·ªùi ch√∫c t·ª´ B√°nh Trung Thu ü•Æ',
    'B√°nh ng·ªçt trao tay, g·ª≠i t·∫∑ng ni·ªÅm vui',
    'Trung Thu tr·ªçn v·∫πn, ƒëo√†n vi√™n ng·∫≠p tr√†n',
    'Ch√∫c b·∫°n y√™u th∆∞∆°ng, h·∫°nh ph√∫c v√† b√¨nh an üíõüåô',
    'D√π bi·∫øt h∆°i th·ª´a nhng ch√∫c b·∫°n lu√¥n xinh ƒë·∫πp vui v·∫ª nh∆∞ √°nh trƒÉng r·∫±m',
    'TrƒÉng tr√≤n vi√™n m√£n, h·∫°nh ph√∫c ƒëong ƒë·∫ßy. Ch√∫c b·∫°n ng·ªçt ng√†o, ·∫•m √°p b√™n ng∆∞·ªùi th√¢n y√™u! üíõüåô'
  );
});

/* ============== N√öT NH·∫†C ============== */
const bgm   = document.getElementById('bgm');
const mBtn  = document.getElementById('music-btn');
mBtn.addEventListener('click', async ()=>{
  if (bgm.paused){ try{ await bgm.play(); }catch{} mBtn.textContent='‚è∏ T·∫°m d·ª´ng'; }
  else { bgm.pause(); mBtn.textContent='üéµ Ph√°t nh·∫°c'; }
});
window.addEventListener('load', async ()=>{
  try{ await bgm.play(); mBtn.textContent='‚è∏ T·∫°m d·ª´ng'; }
  catch{ mBtn.textContent='üéµ Ph√°t nh·∫°c'; }
});
</script>


</body>
</html>